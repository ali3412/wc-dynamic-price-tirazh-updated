# WooCommerce Dynamic Price Calculator

Плагин для WooCommerce, который динамически меняет стоимость товара на основании заказываемого количества и дополнительных произвольных полей товара.

## Описание

Плагин добавляет следующие произвольные поля к товарам WooCommerce:
- **Коэффицент** - значение, используемое в формуле расчета
- **Минимальное кол-во** - минимальное количество товара, которое покупатель должен заказать, и при котором начинает действовать динамическое ценообразование

В качестве минимальной цены используется стандартная цена товара в WooCommerce.

Плагин автоматически устанавливает минимальное количество товара на странице товара и не позволяет покупателю выбрать меньшее количество. По умолчанию в поле выбора количества автоматически устанавливается минимальное значение.

Формула для расчета стоимости:
```
(Стандартная цена товара + Коэффицент/количество) * количество
```

## Установка

1. Загрузите папку плагина в директорию `/wp-content/plugins/` вашего сайта WordPress
2. Активируйте плагин через меню 'Плагины' в WordPress
3. Убедитесь, что WooCommerce активирован

## Использование

1. Откройте товар для редактирования
2. Перейдите на вкладку "Dynamic Price" в настройках товара
3. Убедитесь, что цена товара установлена в стандартных настройках WooCommerce
4. Введите значение для поля "Коэффицент"
5. Установите значение для поля "Минимальное кол-во" (по умолчанию 1)
6. Активируйте динамическое ценообразование, поставив галочку "Enable Dynamic Price"
7. Сохраните товар

## Примеры расчета

Допустим, у нас есть следующие значения:
- Стандартная цена товара: 100
- Коэффицент: 50
- Минимальное кол-во: 2

При разном количестве товаров цена будет следующей:
- 1 шт: Стандартная цена 100 руб. (минимальное кол-во не достигнуто)
- 2 шт: (100 + 50/2) * 2 = 250 руб.
- 5 шт: (100 + 50/5) * 5 = 550 руб.
- 10 шт: (100 + 50/10) * 10 = 1050 руб.

## Функциональность

1. **Динамическое ценообразование** - цена товара рассчитывается по формуле в зависимости от количества

2. **Ограничение минимального количества** - пользователь не может добавить в корзину меньшее количество товара, чем указано в настройках

3. **Значение по умолчанию** - на странице товара автоматически выбирается минимальное количество

4. **Динамическое обновление цены** - при изменении количества товара на странице цена мгновенно пересчитывается

5. **Отображение итоговой суммы** - на странице товара отображается общая сумма и цена за единицу товара

## Требования

- WordPress 5.0 или выше
- WooCommerce 3.0 или выше
- PHP 7.2 или выше